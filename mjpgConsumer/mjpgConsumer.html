<script type="text/javascript">
    RED.nodes.registerType('mjpg-consumer',{
        category: 'electronicplayground',
        color: '#a6bbcf',
        defaults: {
            name: {value:""},
            stream: {value:"http://localhost:8080?action=stream"},
            interval: {value:1}
        },
        inputs:1,
        outputs:1,
      //  icon: "file.png",
        label: function() {
            return this.name||"mjpgConsumer";
        },
        oneditsave: function(){

        }

    });
</script>

<script type="text/x-red" data-template-name="mjpg-consumer">
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-stream"><i class="icon-tag"></i> Stream</label>
        <input type="text" id="node-input-stream">
    </div>
    <div class="form-row">
        <label for="node-input-interval"><i class="icon-tag"></i>Streaming interval (seconds)</label>
        <input type="number" id="node-input-interval">
    </div>

</script>

<script type="text/x-red" data-help-name="mjpg-consumer">
    <p>A node that consumes a mjpeg stream and outputs the latest saved frame as buffer</p>
    <p><b>Stream</b> should be the address of the stream</p>
    <p><b>Streaming interval</b> should be the number of seconds between buffer outputs</p>
    <p>For instructions on how to install and run mjpg_streamer go <a href="https://github.com/jacksonliam/mjpg-streamer">here</a>
    <p>To enable output send "start" as payload (Can use an inject node or a dashboard switch). To disable, send "stop".</p>
    <div>

    </div>
</script>
